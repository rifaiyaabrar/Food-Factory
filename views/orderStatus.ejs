<%- include('./partials/header', {name, is_admin}); %>
  <main class=' pt-5 mt-5'>
    <% let totalPrice=0 %>
      <section class='container mb-4' style='max-width: 45rem;'>
        <h1 class='mb-4 ms-3 display-6'>
          Pending
        </h1>
        <div class="container card p-0">
          <table class='table table-striped table-hover'>
            <thead>
              <tr>
                <th scope="col" style='max-width: 2rem;'></th>
                <th scope="col">Product</th>
                <th scope="col" class='text-center'>Quantity</th>
                <th scope="col" class='text-center'>Per Price</th>
                <th scope="col" class='text-end'>Price</th>
              </tr>
            </thead>
            <tbody>
              <% totalPrice=0 %>
                <% pending.map((pending, i)=> { totalPrice +=pending.quantity * pending.price; %>
                  <tr>
                    <th scope="row" style='max-width: 2rem;'>
                      <%= i + 1 %>
                    </th>
                    <td>
                      <%= pending.name %>
                    </td>
                    <td class='text-center'>
                      <%= pending.quantity %>
                    </td>
                    <td class='text-center'>
                      <%= pending.price %> ৳
                    </td>
                    <td class='text-end'>
                      <%= pending.quantity * pending.price %> ৳
                    </td>
                  </tr>
                  <% }) %>
                    <tr class='table-secondary'>
                      <td colspan='4' class='text-end'>Total:</td>
                      <th class='text-end'>
                        <%= totalPrice %> ৳
                      </th>
                    </tr>
            </tbody>
          </table>
        </div>
      </section>
      <section class='container mb-4' style='max-width: 45rem;'>
        <h1 class='mb-4 ms-3 display-6'>
          Confirmed
        </h1>
        <div class="container card p-0">
          <table class='table table-striped table-hover'>
            <thead>
              <tr>
                <th scope="col" style='max-width: 2rem;'></th>
                <th scope="col">Product</th>
                <th scope="col" class='text-center'>Quantity</th>
                <th scope="col" class='text-center'>Per Price</th>
                <th scope="col" class='text-end'>Price</th>
              </tr>
            </thead>
            <tbody>
              <% totalPrice=0 %>
                <% confirmed.map((confirmed, i)=> { totalPrice +=confirmed.quantity * confirmed.price; %>
                  <tr>
                    <th scope="row" style='max-width: 2rem;'>
                      <%= i + 1 %>
                    </th>
                    <td>
                      <%= confirmed.name %>
                    </td>
                    <td class='text-center'>
                      <%= confirmed.quantity %>
                    </td>
                    <td class='text-center'>
                      <%= confirmed.price %> ৳
                    </td>
                    <td class='text-end'>
                      <%= confirmed.quantity * confirmed.price %> ৳
                    </td>
                  </tr>
                  <% }) %>
                    <tr class='table-secondary'>
                      <td colspan='4' class='text-end'>Total:</td>
                      <th class='text-end'>
                        <%= totalPrice %> ৳
                      </th>
                    </tr>
            </tbody>
          </table>
        </div>
      </section>
      <section class='container mb-4' style='max-width: 45rem;'>
        <h1 class='mb-4 ms-3 display-6'>
          Rejected
        </h1>
        <div class="container card p-0">
          <table class='table table-striped table-hover'>
            <thead>
              <tr>
                <th scope="col" style='max-width: 2rem;'></th>
                <th scope="col">Product</th>
                <th scope="col" class='text-center'>Quantity</th>
                <th scope="col" class='text-center'>Per Price</th>
                <th scope="col" class='text-end'>Price</th>
              </tr>
            </thead>
            <tbody>
              <% totalPrice=0 %>
                <% rejected.map((rejected, i)=> { totalPrice +=rejected.quantity * rejected.price; %>
                  <tr>
                    <th scope="row" style='max-width: 2rem;'>
                      <%= i + 1 %>
                    </th>
                    <td>
                      <%= rejected.name %>
                    </td>
                    <td class='text-center'>
                      <%= rejected.quantity %>
                    </td>
                    <td class='text-center'>
                      <%= rejected.price %> ৳
                    </td>
                    <td class='text-end'>
                      <%= rejected.quantity * rejected.price %> ৳
                    </td>
                  </tr>
                  <% }) %>
                    <tr class='table-secondary'>
                      <td colspan='4' class='text-end'>Total:</td>
                      <th class='text-end'>
                        <%= totalPrice %> ৳
                      </th>
                    </tr>
            </tbody>
          </table>
        </div>
      </section>
  </main>

  <%- include('./partials/end'); %>
